[{"content":"How to Remove the Proxmox VE Subscription Warning Introduction If you don’t have a paid Proxmox subscription, you’ll see a warning about the Enterprise repository. This is normal for home labs, but you can easily switch to the free no-subscription repository and get rid of the alert.\nSteps to Fix the Warning Open the Proxmox APT sources file: nano /etc/apt/sources.list.d/pve-enterprise.list Disable the enterprise repository: Just add a # at the start of the line so it looks like this:\n# deb https://enterprise.proxmox.com/debian/pve bookworm pve-enterprise Add the no-subscription repository: Open your main sources list:\nnano /etc/apt/sources.list Add this line if it’s not already there:\ndeb http://download.proxmox.com/debian/pve bookworm pve-no-subscription (Optional) If you use Ceph, disable the enterprise Ceph repo: Edit the Ceph sources file:\nnano /etc/apt/sources.list.d/ceph.list Comment out the enterprise line and add the no-subscription one:\n# deb https://enterprise.proxmox.com/debian/ceph-quincy bookworm enterprise deb http://download.proxmox.com/debian/ceph-quincy bookworm no-subscription Update your package lists: apt-get update That’s it! The warning should be gone, and you’ll still get updates from the free repository.\n","permalink":"http://localhost:1313/posts/proxmox-remove-subscription-warning/","summary":"\u003ch1 id=\"how-to-remove-the-proxmox-ve-subscription-warning\"\u003eHow to Remove the Proxmox VE Subscription Warning\u003c/h1\u003e\n\u003cp\u003e\u003cimg alt=\"Proxmox Subscription Warning Image\" loading=\"lazy\" src=\"/images/proxmox-ve-enterprise-subscription-alert-box-screenshot.jpeg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003eIf you don’t have a paid Proxmox subscription, you’ll see a warning about the Enterprise repository. This is normal for home labs, but you can easily switch to the free no-subscription repository and get rid of the alert.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"steps-to-fix-the-warning\"\u003eSteps to Fix the Warning\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eOpen the Proxmox APT sources file:\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003enano /etc/apt/sources.list.d/pve-enterprise.list\n\u003c/code\u003e\u003c/pre\u003e\u003col start=\"2\"\u003e\n\u003cli\u003e\u003cstrong\u003eDisable the enterprise repository:\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eJust add a \u003ccode\u003e#\u003c/code\u003e at the start of the line so it looks like this:\u003c/p\u003e","title":"Disable Proxmox Enterprise Subscription Alert"},{"content":"Introduction This guide shows you how to set up a secure and flexible Proxmox VE homelab. You will:\nIsolate your VM network but keep internet access. Securely access the Proxmox web UI using Cloudflare Tunnel and custom DNS. Block direct IP access to the Proxmox UI. Prepare for adding more services in the future. Prerequisite Before you start, ensure you have:\nAlready installed Proxmox VE on your machine. A basic understanding of Linux command line. A Cloudflare account with a domain set up (e.g., yourdomain.com). Example values we are going to use Assuming you have a Proxmox VE installation with the following network configuration: Note that these values are examples; you should replace them with your actual network settings.\nLAN IP: 10.20.30.40/24 Gateway/DNS: 10.20.30.1 Hostname: homelab.yourdomain.com Domain: yourdomain.com (Cloudflare-managed) Step 1: Initial Proxmox VE Setup apt-get update apt-get upgrade 0.0 Open /etc/hostname and set the following entry:\nYou can use any hostname you prefer, but for this guide, we will use: homelab\nhomelab 0.1 Open and check values for /etc/hosts:\n127.0.0.1 localhost.localdomain localhost 10.20.30.40 homelab.yourdomain.com homelab # The following lines are desirable for IPv6 capable hosts ::1 ip6-localhost ip6-loopback fe00::0 ip6-localnet ff00::0 ip6-mcastprefix ff02::1 ip6-allnodes ff02::2 ip6-allrouters ff02::3 ip6-allhosts Part 1: Isolate your VM network but keep internet access. If you want your Proxmox and its VMs on an isolated internal virtual network, but still able to access the internet. Follow these steps:\nStep 1.1: Network Plan Use Proxmox’s Linux bridges for VM/Container networks.\nvmbr0: Connected to physical NIC (eno1) — your main interface (10.20.30.40) vmbr1: Internal-only isolated virtual bridge (no physical NIC attached) Configure NAT for vmbr1 to allow internet for VMs while keeping them isolated Step 1.2: Create NAT Bridge (Isolated VM Network) Edit /etc/network/interfaces:\nauto lo iface lo inet loopback iface enp3s0 inet manual auto vmbr0 iface vmbr0 inet static address 10.20.30.40/24 gateway 10.20.30.1 bridge-ports enp3s0 bridge-stp off bridge-fd 0 dns-nameservers 10.20.30.1 auto vmbr1 iface vmbr1 inet static address 10.10.10.1/24 bridge-ports none bridge-stp off bridge-fd 0 post-up echo 1 \u0026gt; /proc/sys/net/ipv4/ip_forward post-up iptables -t nat -A POSTROUTING -s \u0026#39;10.10.10.0/24\u0026#39; -o vmbr0 -j MASQUERADE post-down iptables -t nat -D POSTROUTING -s \u0026#39;10.10.10.0/24\u0026#39; -o vmbr0 -j MASQUERADE iface enp2s0 inet manual iface wlp4s0 inet manual source /etc/network/interfaces.d/* Then run to apply the changes\nifreload -a Now, your VMs on vmbr1 can access the internet but are not exposed to your LAN.\nPart 2: Secure Remote Access via Cloudflare Tunnel To expose the Proxmox UI (8006) securely via your domain, use Cloudflare Tunnel (cloudflared). No port forwarding is needed.\nStep 2.1: Install cloudflared on Proxmox wget https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb sudo dpkg -i cloudflared-linux-amd64.deb Step 2.2: Authenticate with Cloudflare cloudflared tunnel login Follow the browser instructions. Select your domain: yourdomain.com.\nStep 2.3: Create the Tunnel cloudflared tunnel create proxmox-tunnel This gives a tunnel UUID like a1b2c3d4...\nStep 2.4: Configure the Tunnel Create /etc/cloudflared/config.yml:\ntunnel: a1b2c3d4... # from previous step credentials-file: /root/.cloudflared/875fc262-b752-46cf-958d-86f35815deed.json # from previous step ingress: - hostname: homelab.yourdomain.com service: https://localhost:8006 originRequest: noTLSVerify: true - service: http_status:404 Step 2.5: Route DNS in Cloudflare Run below command. This will create a DNS record in Cloudflare for your tunnel.\ncloudflared tunnel route dns proxmox-tunnel homelab.yourdomain.com Step 2.6: Run the Tunnel as a Service cloudflared service install systemctl enable --now cloudflared Now, only users with access to homelab.yourdomain.com via Cloudflare can access your Proxmox UI.\nStep 2.7: Block IP Access to https://\u0026lt;your-proxmox-ip\u0026gt;:8006 We’ll achieve this using Proxmox firewall rules using iptables.\nUse iptables (if you don’t want to use Proxmox firewall)\nRun the following:\niptables -A INPUT -p tcp --dport 8006 ! -s 127.0.0.1 -j DROP To persist this:\nInstall iptables-persistent: apt install iptables-persistent Save rules: iptables-save \u0026gt; /etc/iptables/rules.v4 Verify It Works Now try:\nhttps://\u0026lt;your-public-LAN-IP\u0026gt;:8006 → Should fail (connection refused or timeout) https://homelab.yourdomain.com → Should work perfectly Summary Goal Setup Summary Isolated network with internet Create vmbr1, apply NAT masquerading via vmbr0 Secure remote Proxmox access Use Cloudflare Tunnel and custom DNS (homelab.yourdomain.com) Block access via IP/Port web UI to 127.0.0.1:8006 should be blocked ","permalink":"http://localhost:1313/posts/secure-proxmox-ve-homelab-cloudflare-tunnel/","summary":"\u003ch2 id=\"introduction\"\u003e\u003cstrong\u003eIntroduction\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003eThis guide shows you how to set up a secure and flexible Proxmox VE homelab. You will:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eIsolate your VM network but keep internet access.\u003c/li\u003e\n\u003cli\u003eSecurely access the Proxmox web UI using Cloudflare Tunnel and custom DNS.\u003c/li\u003e\n\u003cli\u003eBlock direct IP access to the Proxmox UI.\u003c/li\u003e\n\u003cli\u003ePrepare for adding more services in the future.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg alt=\"proxmox-ve-setup-title-image.png\" loading=\"lazy\" src=\"/images/proxmox-ve-setup-title-image.png\"\u003e\u003c/p\u003e\n\u003ch2 id=\"prerequisite\"\u003e\u003cstrong\u003ePrerequisite\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003eBefore you start, ensure you have:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAlready installed Proxmox VE on your machine.\u003c/li\u003e\n\u003cli\u003eA basic understanding of Linux command line.\u003c/li\u003e\n\u003cli\u003eA Cloudflare account with a domain set up (e.g., \u003ccode\u003eyourdomain.com\u003c/code\u003e).\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"example-values-we-are-going-to-use\"\u003e\u003cstrong\u003eExample values we are going to use\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003eAssuming you have a Proxmox VE installation with the following network configuration:\nNote that these values are examples; you should replace them with your actual network settings.\u003c/p\u003e","title":"Secure and Isolated Proxmox VE Homelab with Cloudflare Tunnel"},{"content":"ion Repository' slug: \u0026lsquo;proxmox-remove-subscription-warning\u0026rsquo; tags: [proxmox, homelab] How to Remove the Proxmox VE Subscription Warning Introduction If you don’t have a paid Proxmox subscription, you’ll see a warning about the Enterprise repository. This is normal for home labs, but you can easily switch to the free no-subscription repository and get rid of the alert.\nSteps to Fix the Warning Open the Proxmox APT sources file: nano /etc/apt/sources.list.d/pve-enterprise.list Disable the enterprise repository: Just add a # at the start of the line so it looks like this:\n# deb https://enterprise.proxmox.com/debian/pve bookworm pve-enterprise Add the no-subscription repository: Open your main sources list:\nnano /etc/apt/sources.list Add this line if it’s not already there:\ndeb http://download.proxmox.com/debian/pve bookworm pve-no-subscription (Optional) If you use Ceph, disable the enterprise Ceph repo: Edit the Ceph sources file:\nnano /etc/apt/sources.list.d/ceph.list Comment out the enterprise line and add the no-subscription one:\n# deb https://enterprise.proxmox.com/debian/ceph-quincy bookworm enterprise deb http://download.proxmox.com/debian/ceph-quincy bookworm no-subscription Update your package lists: apt-get update That’s it!\n","permalink":"http://localhost:1313/posts/proxmox-remove-subscription-warning/","summary":"\u003ch2 id=\"tags-proxmox-homelab\"\u003eion Repository'\nslug: \u0026lsquo;proxmox-remove-subscription-warning\u0026rsquo;\ntags: [proxmox, homelab]\u003c/h2\u003e\n\u003ch1 id=\"how-to-remove-the-proxmox-ve-subscription-warning\"\u003eHow to Remove the Proxmox VE Subscription Warning\u003c/h1\u003e\n\u003cp\u003e\u003cimg alt=\"Proxmox Subscription Warning Image\" loading=\"lazy\" src=\"/images/proxmox-ve-enterprise-subscription-alert-box-screenshot.jpeg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003eIf you don’t have a paid Proxmox subscription, you’ll see a warning about the Enterprise repository. This is normal for home labs, but you can easily switch to the free no-subscription repository and get rid of the alert.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"steps-to-fix-the-warning\"\u003eSteps to Fix the Warning\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eOpen the Proxmox APT sources file:\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003enano /etc/apt/sources.list.d/pve-enterprise.list\n\u003c/code\u003e\u003c/pre\u003e\u003col start=\"2\"\u003e\n\u003cli\u003e\u003cstrong\u003eDisable the enterprise repository:\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eJust add a \u003ccode\u003e#\u003c/code\u003e at the start of the line so it looks like this:\u003c/p\u003e","title":"Disable Proxmox Enterprise Subscription Alert"},{"content":"Introduction This guide shows you how to set up a secure and flexible Proxmox VE homelab. You will:\nIsolate your VM network but keep internet access. Securely access the Proxmox web UI using Cloudflare Tunnel and custom DNS. Block direct IP access to the Proxmox UI. Prepare for adding more services in the future. Prerequisite Before you start, ensure you have:\nAlready installed Proxmox VE on your machine. A basic understanding of Linux command line. A Cloudflare account with a domain set up (e.g., yourdomain.com). Example values we are going to use Assuming you have a Proxmox VE installation with the following network configuration: Note that these values are examples; you should replace them with your actual network settings.\nLAN IP: 10.20.30.40/24 Gateway/DNS: 10.20.30.1 Hostname: homelab.yourdomain.com Domain: yourdomain.com (Cloudflare-managed) Step 1: Initial Proxmox VE Setup apt-get update apt-get upgrade 0.0 Open /etc/hostname and set the following entry:\nYou can use any hostname you prefer, but for this guide, we will use: homelab\nhomelab 0.1 Open and check values for /etc/hosts:\n127.0.0.1 localhost.localdomain localhost 10.20.30.40 homelab.yourdomain.com homelab # The following lines are desirable for IPv6 capable hosts ::1 ip6-localhost ip6-loopback fe00::0 ip6-localnet ff00::0 ip6-mcastprefix ff02::1 ip6-allnodes ff02::2 ip6-allrouters ff02::3 ip6-allhosts Part 1: Isolate your VM network but keep internet access. If you want your Proxmox and its VMs on an isolated internal virtual network, but still able to access the internet. Follow these steps:\nStep 1.1: Network Plan Use Proxmox’s Linux bridges for VM/Container networks.\nvmbr0: Connected to physical NIC (eno1) — your main interface (10.20.30.40) vmbr1: Internal-only isolated virtual bridge (no physical NIC attached) Configure NAT for vmbr1 to allow internet for VMs while keeping them isolated Step 1.2: Create NAT Bridge (Isolated VM Network) Edit /etc/network/interfaces:\nauto lo iface lo inet loopback iface enp3s0 inet manual auto vmbr0 iface vmbr0 inet static address 10.20.30.40/24 gateway 10.20.30.1 bridge-ports enp3s0 bridge-stp off bridge-fd 0 dns-nameservers 10.20.30.1 auto vmbr1 iface vmbr1 inet static address 10.10.10.1/24 bridge-ports none bridge-stp off bridge-fd 0 post-up echo 1 \u0026gt; /proc/sys/net/ipv4/ip_forward post-up iptables -t nat -A POSTROUTING -s \u0026#39;10.10.10.0/24\u0026#39; -o vmbr0 -j MASQUERADE post-down iptables -t nat -D POSTROUTING -s \u0026#39;10.10.10.0/24\u0026#39; -o vmbr0 -j MASQUERADE iface enp2s0 inet manual iface wlp4s0 inet manual source /etc/network/interfaces.d/* Then run to apply the changes\nifreload -a Now, your VMs on vmbr1 can access the internet but are not exposed to your LAN.\nPart 2: Secure Remote Access via Cloudflare Tunnel To expose the Proxmox UI (8006) securely via your domain, use Cloudflare Tunnel (cloudflared). No port forwarding is needed.\nStep 2.1: Install cloudflared on Proxmox wget https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb sudo dpkg -i cloudflared-linux-amd64.deb Step 2.2: Authenticate with Cloudflare cloudflared tunnel login Follow the browser instructions. Select your domain: yourdomain.com.\nStep 2.3: Create the Tunnel cloudflared tunnel create proxmox-tunnel This gives a tunnel UUID like a1b2c3d4...\nStep 2.4: Configure the Tunnel Create /etc/cloudflared/config.yml:\ntunnel: a1b2c3d4... # from previous step credentials-file: /root/.cloudflared/875fc262-b752-46cf-958d-86f35815deed.json # from previous step ingress: - hostname: homelab.yourdomain.com service: https://localhost:8006 originRequest: noTLSVerify: true - service: http_status:404 Step 2.5: Route DNS in Cloudflare Run below command. This will create a DNS record in Cloudflare for your tunnel.\ncloudflared tunnel route dns proxmox-tunnel homelab.yourdomain.com Step 2.6: Run the Tunnel as a Service cloudflared service install systemctl enable --now cloudflared Now, only users with access to homelab.yourdomain.com via Cloudflare can access your Proxmox UI.\nStep 2.7: Block IP Access to https://\u0026lt;your-proxmox-ip\u0026gt;:8006 We’ll achieve this using Proxmox firewall rules using iptables.\nUse iptables (if you don’t want to use Proxmox firewall)\nRun the following:\niptables -A INPUT -p tcp --dport 8006 ! -s 127.0.0.1 -j DROP To persist this:\nInstall iptables-persistent: apt install iptables-persistent Save rules: iptables-save \u0026gt; /etc/iptables/rules.v4 Verify It Works Now try:\nhttps://\u0026lt;your-public-LAN-IP\u0026gt;:8006 → Should fail (connection refused or timeout) https://homelab.yourdomain.com → Should work perfectly Summary Goal Setup Summary Isolated network with internet Create vmbr1, apply NAT masquerading via vmbr0 Secure remote Proxmox access Use Cloudflare Tunnel and custom DNS (homelab.yourdomain.com) Block access via IP/Port web UI to 127.0.0.1:8006 should be blocked ","permalink":"http://localhost:1313/posts/proxmox-homelab-secure-setup-with-cloudflare-tunnel/","summary":"\u003ch2 id=\"introduction\"\u003e\u003cstrong\u003eIntroduction\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003eThis guide shows you how to set up a secure and flexible Proxmox VE homelab. You will:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eIsolate your VM network but keep internet access.\u003c/li\u003e\n\u003cli\u003eSecurely access the Proxmox web UI using Cloudflare Tunnel and custom DNS.\u003c/li\u003e\n\u003cli\u003eBlock direct IP access to the Proxmox UI.\u003c/li\u003e\n\u003cli\u003ePrepare for adding more services in the future.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg alt=\"proxmox-ve-setup-title-image.png\" loading=\"lazy\" src=\"/images/proxmox-ve-setup-title-image.png\"\u003e\u003c/p\u003e\n\u003ch2 id=\"prerequisite\"\u003e\u003cstrong\u003ePrerequisite\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003eBefore you start, ensure you have:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAlready installed Proxmox VE on your machine.\u003c/li\u003e\n\u003cli\u003eA basic understanding of Linux command line.\u003c/li\u003e\n\u003cli\u003eA Cloudflare account with a domain set up (e.g., \u003ccode\u003eyourdomain.com\u003c/code\u003e).\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"example-values-we-are-going-to-use\"\u003e\u003cstrong\u003eExample values we are going to use\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003eAssuming you have a Proxmox VE installation with the following network configuration:\nNote that these values are examples; you should replace them with your actual network settings.\u003c/p\u003e","title":"Secure and Isolated Proxmox VE Homelab with Cloudflare Tunnel"}]